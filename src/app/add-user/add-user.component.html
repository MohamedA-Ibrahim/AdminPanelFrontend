<div class="add-user-container">
  <h2>Add User</h2>

  @if (message) {
  <div [ngClass]="succeeded ? 'success-message' : 'error-message'">
    {{ message }}
  </div>
  }

  <form (ngSubmit)="onSubmit()" class="add-user-form" #userForm="ngForm">
    <div class="form-group">
      <label for="first-name">First name</label>
      <input
        type="text"
        id="first-name"
        name="first-name"
        required
        minlength="2"
        [(ngModel)]="firstName"
        #firstNameValidator="ngModel"
      />

      @if (firstNameValidator.invalid && (firstNameValidator.dirty ||
      firstNameValidator.touched)) {
      <p class="alert">First Name is required.</p>
      }
    </div>

    <div class="form-group">
      <label for="last-name">Last name</label>
      <input
        type="text"
        id="last-name"
        name="last-name"
        required
        minlength="2"
        [(ngModel)]="lastName"
        #lastNameValidator="ngModel"
      />

      @if (lastNameValidator.invalid && (lastNameValidator.dirty || lastNameValidator.touched)) {
      <p class="alert">Last Name is required.</p>
      }
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" id="email" name="email" required email [(ngModel)]="email" #emailValidator="ngModel" />
      @if (emailValidator.invalid && (emailValidator.dirty || emailValidator.touched)) {
      <p class="alert">Email must be valid.</p>
      }
    </div>
    <div class="form-group">
      <label for="phone">Phone</label>
      <input
        type="text"
        id="phone"
        name="phone"
        required
        minlength="2"
        [(ngModel)]="phone"
        #phoneValidator="ngModel"
      />
      @if (phoneValidator.invalid && (phoneValidator.dirty || phoneValidator.touched)) {
      <p class="alert">Phone is required.</p>
      }
    </div>

    <div class="actions">
      <button type="button" (click)="onCancel()">Cancel</button>
      <button type="submit" [disabled]="!userForm.valid">Create</button>
    </div>
  </form>
</div>
